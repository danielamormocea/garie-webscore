{% extends "base.html" %}

{% block content %}
<div class="container">

  <h1>Garie WebScore</h1>

  <table class="table table-striped table-sm">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">URL</th>
        <th scope="col" class="text-center">Score</th>
        {% for metric in importantMetrics %}
          <th scope="col" class="text-center">{{ metric.name }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
    {% for row in data %}
      <tr>
        <th scope="row">
          {{ loop.index }}
        </th>
        <td scope="row">
          <a href="{{ row.url }}">
            {{ row.url }}
          </a>
        </td>
        <td class="{{ scoreStyle(row.score) }} text-center">
          <a href="/site/{{ urlSlug(row.url) }}">
            {{ row.score }}
          </a>
        </td>
        {% for metric in importantMetrics %}
          {% set value = row[metric.name] %}
          <td class="{{ metricStyle(metric, value) }} text-center">
            {{ value }}
          </td>
        {% endfor %}
      </tr>
    {% endfor %}
    </tbody>
  </table>

</div>
{% endblock %}
