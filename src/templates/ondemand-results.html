{% extends "base.html" %}

{% block title %}Results for scan on demand &ndash; {{ super() }}{% endblock %}

{% block content %}
<div class="container">
  <h3>Results for {{ job.url }}</h3>

  <table class="table table-striped table-sm">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Metric</th>
        <th scope="col" class="text-center">Score</th>
      </tr>
    </thead>
    <tbody>
    {% for scan in job.scans %}
      <tr>
        <th scope="row">
          {{ scan.metric.name }}
        </th>
        <td class="{{ metricStyle(scan.metric, scan.result) }} text-center">
          {% if scan.finished %}
            {% if scan.success %}
              {{ scan.result }}
            {% else %}
              failed
            {% endif %}
          {% else %}
            waiting for results
          {% endif %}
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>

</div>

{% endblock %}
